<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Freeloader Tests</title>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="../freeloader.js"></script>
</head>
<body>
<h1>Freeloader Tests</h1>

<h2 style="color:grey" class="t1">Pending...</h2>

<div id="t2">
<h2 style="color:grey">Pending...</h2>
<script>
setTimeout(function(){
	$('#t2').html('<h2 style="color:grey" class="t2">Pending...</h2>');
},200);
</script>
</div>

<h2 style="color:grey" class="t3">Pending...</h2>

<h2 style="color:grey" class="t4"><a href="" style="color:inherit;text-decoration:inherit;">Click me...</a></h2>

<h2 style="color:grey" class="t5">Click me...</h2>

<h2 style="color:grey" class="t6">Pending...</h2>

<h2 style="color:grey" class="t7">Pending...</h2>

<h2 style="color:grey" class="t8">Pending...</h2>

<script>

freeloader.bind('t1', {
	init: function(){
		this.$el.css('color','green').text('Passed');
	}
});

freeloader.bind('t2', {
	init: function(){
		this.$el.css('color','green').text('Passed');
	}
});

freeloader.bind('t3', {
	init: function(){
		this.$el.css('color','green').text('Passed');
	}
});

freeloader.bind('t4', {
	events: {
		'click a[href]': 'click'
	},
	click: function(ev){
		ev.preventDefault();
		this.$el.css('color','green').text('Passed');
	}
});

freeloader.bind('t5', {
	events: {
		'click': 'click'
	},
	click: function(ev){
		ev.preventDefault();
		this.$el.css('color','green').text('Passed');
	}
});

freeloader.bind('t6', {
	subscriptions: {
		't6-notify': 'ok'
	},
	ok: function(ev){
		this.$el.css('color','green').text('Passed');
	}
});
setTimeout(function(){
	freeloader.send('t6-notify')
},333);

freeloader.bind('t7', {
	init: function(){
		this[this.foo]();
	},
	foo: 'bar',
	bar: function(){
		this.$el.css('color','green').text('Passed');
	}
});

freeloader.bind('t8', {
	init: function(){
		this.el.style.color = 'green';
		this.el.innerHTML = 'Passed';
	}
});

</script>
</body>
</html>
